{"$schema":"https://dataexplorer.azure.com/static/d/schema/35/dashboard.json","id":"94f08470-fc80-4299-8c37-7d40d9f46ac3","eTag":"R3YCaUytZ8EPeIHMZYD7Zg==","schema_version":"35","title":"PosLog Sales Dashboard","autoRefresh":{"defaultInterval":"30s","enabled":true,"minInterval":"30s"},"sharedQueries":[],"tiles":[{"id":"39bb87d6-f0ee-4294-83f6-0e23d4ab7cdb","title":"Total Sale (â‚¬)","visualType":"card","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":0,"y":0,"width":5,"height":3},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":["_endTime","_startTime"],"text":"// Total Sale\nPosLog \n| extend json=parse_xml(xml) \n| mv-expand line_items = json.POSLog.Transaction.RetailTransaction.LineItem\n| extend sales_price_str = line_items.Sale.RegularSalesUnitPrice, date_time = todatetime(line_items.DateTime[\"#text\"])\n| extend sales_price = todecimal(sales_price_str)\n| where date_time between(_startTime .. _endTime)\n| summarize total_sale = tostring(round(sum(sales_price), 2))"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"66cf1da0-c05d-45d1-a2e3-9db701cc3998","title":"Total Sales by product - Top 20","visualType":"column","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":5,"y":0,"width":18,"height":9},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":["_endTime","_startTime"],"text":"// Sales by product\nPosLog \n| extend json=parse_xml(xml) \n| mv-expand line_items = json.POSLog.Transaction.RetailTransaction.LineItem\n| extend sales_price_str = line_items.Sale.RegularSalesUnitPrice, product = tostring(line_items.Sale.Description[\"#text\"]), date_time = todatetime(line_items.DateTime[\"#text\"])\n| extend sales_price = todecimal(sales_price_str)\n| where date_time between(_startTime .. _endTime)\n| summarize total_sale = sum(sales_price) by product\n| order by total_sale\n| take 30;"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"fac31d8b-9509-4fbd-bbd0-7ea106279116","title":"Sales over time (5m bin)","visualType":"line","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":5,"y":9,"width":18,"height":7},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":[],"text":"// Over Time\nPosLog \n| extend json=parse_xml(xml) \n| mv-expand line_items = json.POSLog.Transaction.RetailTransaction.LineItem\n| extend sales_price_str = line_items.Sale.RegularSalesUnitPrice, date_time = todatetime(line_items.DateTime[\"#text\"])\n| extend sales_price = todecimal(sales_price_str)\n| where isnotnull(date_time)\n//| project date_time, sales_price\n| summarize total_sale = sum(sales_price) by bin(date_time, 5m)\n//| sort by date_time asc"},"visualOptions":{"hideTileTitle":false,"multipleYAxes":{"base":{"id":"-1","label":"","columns":[],"yAxisMaximumValue":null,"yAxisMinimumValue":null,"yAxisScale":"linear","horizontalLines":[]},"additional":[],"showMultiplePanels":false},"hideLegend":false,"xColumnTitle":"","xColumn":{"type":"infer"},"yColumns":{"type":"infer"},"seriesColumns":{"type":"infer"},"xAxisScale":"linear","verticalLine":"","crossFilterDisabled":false,"drillthroughDisabled":false,"crossFilter":[],"drillthrough":[]}},{"id":"5546bca0-49bc-4dc8-97b5-c23fe4274e9b","title":"# Total Transactions ","visualType":"card","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":0,"y":3,"width":5,"height":4},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":["_endTime","_startTime"],"text":"// Total Transaction count\nPosLog \n| extend json=parse_xml(xml)\n| extend date_time = todatetime(json.POSLog.Transaction.EndDateTime[0][\"#text\"])\n| where date_time between(_startTime .. _endTime)\n| summarize total_transactions = count()"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"770e4195-9c36-4d14-ad1e-7b2f23473b8c","title":"# Total Line Items","visualType":"card","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":0,"y":7,"width":5,"height":4},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":["_endTime","_startTime"],"text":"// Total Sale\nPosLog \n| extend json=parse_xml(xml) \n| mv-expand line_items = json.POSLog.Transaction.RetailTransaction.LineItem\n| extend date_time = todatetime(line_items.DateTime[\"#text\"])\n| where date_time between(_startTime .. _endTime)\n| summarize total_line_items = count()"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}},{"id":"e1b12309-781e-4f9c-b5f2-117331d90263","title":"# Total Quantity Sold","visualType":"card","pageId":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c","layout":{"x":0,"y":11,"width":5,"height":4},"query":{"kind":"inline","dataSource":{"kind":"inline","dataSourceId":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9"},"usedVariables":["_endTime","_startTime"],"text":"// Total Sale\nPosLog \n| extend json=parse_xml(xml) \n| mv-expand line_items = json.POSLog.Transaction.RetailTransaction.LineItem\n| extend quantity = toint(line_items.Sale.Quantity), date_time = todatetime(line_items.DateTime[\"#text\"])\n| where date_time between(_startTime .. _endTime)\n| summarize total_sale = sum(quantity)"},"visualOptions":{"hideTileTitle":false,"multiStat__textSize":"auto","multiStat__valueColumn":{"type":"infer"},"colorRulesDisabled":false,"colorRules":[],"colorStyle":"light"}}],"parameters":[{"kind":"duration","id":"85ec65cd-b3f8-4693-a651-dccdeae23327","displayName":"Time range","beginVariableName":"_startTime","endVariableName":"_endTime","defaultValue":{"kind":"dynamic","count":1,"unit":"hours"},"showOnPages":{"kind":"all"}}],"dataSources":[{"id":"41c220e0-cc02-48e8-bee8-18ff0e8e58a9","name":"jugisadxcluster","clusterUri":"https://jugisadxcluster.westeurope.kusto.windows.net/","database":"default","kind":"manual-kusto","scopeId":"kusto"}],"pages":[{"name":"Page 1","id":"ee94b0f7-dc1f-4234-9869-fdf7a645bf7c"}]}